<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ро╕рпНрооро╛ро░рпНроЯрпН роГрокро╛ро░рпНроорпН роЕроЪро┐ро╕рпНроЯрпЖройрпНроЯрпН - роорпЗроорпНрокроЯрпБродрпНродрпБродро▓рпН</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --green-primary: #4CAF50;
            --background-color: #f0f4f7;
            --whatsapp-green: #25D366;
            --red-alert: #dc3545;
            --dark-green-bg: #4c8a5a;
            --blue-info: #007bff;
            --premium-color: #ffc107; /* Gold/Yellow for Premium */
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: 'Poppins', sans-serif; background-color: var(--background-color); line-height: 1.6; color: #333; text-align: center; }
        
        .navbar { display: flex; justify-content: space-between; align-items: center; padding: 15px 50px; background: #ffffff; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .navbar-logo .title { font-size: 1.5rem; font-weight: 600; }
        .navbar-logo .tagline { font-size: 0.8rem; color: #555; }
        .navbar-menu { display: flex; align-items: center; gap: 20px; }
        .navbar-menu a { text-decoration: none; color: #555; font-weight: 500; padding: 8px 15px; border-radius: 20px; transition: background-color 0.3s, color 0.3s; }
        .navbar-menu a:hover, .navbar-menu a.active { background-color: var(--green-primary); color: white; }
        
        .upgrade-container {
            max-width: 600px;
            margin: 50px auto;
            padding: 40px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .upgrade-container h1 { color: var(--premium-color); margin-bottom: 10px; }
        .limit-message { color: var(--red-alert); font-weight: 600; margin-bottom: 25px; }
        
        /* Plan Box */
        .plan-box { 
            border: 2px solid var(--dark-green-bg); 
            padding: 20px; 
            border-radius: 10px; 
            margin-top: 30px; 
            background-color: #f7fcf7; 
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }
        .plan-box h2 { color: var(--dark-green-bg); margin-bottom: 15px; font-weight: 700; }
        .plan-box p { font-size: 1.1rem; }
        
        /* WhatsApp Button */
        .whatsapp-button {
            padding: 15px 40px; 
            background-color: var(--whatsapp-green); 
            color: white; 
            border: none; 
            border-radius: 30px; 
            font-size: 1.1rem; 
            font-weight: 700; 
            cursor: pointer; 
            margin-top: 20px; 
            transition: background-color 0.3s;
            display: inline-flex; 
            align-items: center; 
            text-decoration: none;
        }
        .whatsapp-button:hover { background-color: #128C7E; }
        .whatsapp-icon { width: 20px; height: 20px; margin-right: 10px; filter: brightness(0) invert(1); }
        
        /* Confirmation Box */
        .reset-section { margin-top: 30px; padding: 20px; border: 2px solid var(--premium-color); border-radius: 10px; background-color: #fff8e1; text-align: left;}
        .reset-section h3 { color: #cc9900; margin-bottom: 15px; display: flex; align-items: center; }
        .reset-section input { padding: 10px; border: 1px solid #ccc; border-radius: 5px; width: 100%; margin-bottom: 10px; }
        .reset-button { padding: 10px 20px; background-color: var(--green-primary); color: white; border: none; border-radius: 20px; cursor: pointer; transition: background-color 0.3s; }
        .reset-button:hover { background-color: var(--dark-green-bg); }

        .manual-step { margin-top: 25px; padding: 15px; background-color: #e6f7ff; border: 1px solid var(--blue-info); border-radius: 8px; text-align: left; }
        .manual-step h3 { color: var(--blue-info); }
    </style>
</head>
<body>
    <div class="navbar">
        <div class="navbar-logo">
            <div>
              <div class="title">ЁЯМ▒ро╕рпНрооро╛ро░рпНроЯрпН роГрокро╛ро░рпНроорпН роЕроЪро┐ро╕рпНроЯройрпНроЯрпН</div>
                <div class="tagline">IOT рокропройрпНрокроЯрпБродрпНродро┐ ро╡ро┐ро╡роЪро╛роп ро╡ро┤ро┐роХро╛роЯрпНроЯро┐ роЕроорпИрокрпНрокрпБ</div>
            </div>
        </div>
        <div class="navbar-menu">
              <a href="index5.html">роорпБроХрокрпНрокрпБ</a>
            <a href="farmdata5.html" >рокрогрпНрогрпИ родро░ро╡рпБ</a> 
            <a href="results5.html">роорпБроЯро┐ро╡рпБроХро│рпН</a>
            <a href="monitoring5.html">роХрогрпНроХро╛рогро┐рокрпНрокрпБ</a>
            <a href="profile5.html">роЪрпБропро╡ро┐ро╡ро░роорпН</a>
        </div>
    </div>
    
    <div class="upgrade-container">
        <h1>рокро┐ро░рпАрооро┐ропроорпН роЕроорпНроЪроЩрпНроХро│рпИродрпН родро┐ро▒роХрпНроХро╡рпБроорпН</h1>
        
        <div class="limit-message">
            роЙроЩрпНроХро│рпН роЗро▓ро╡роЪ ро╡ро░роорпНрокрпИ роирпАроЩрпНроХро│рпН роЕроЯрпИроирпНродрпБро╡ро┐роЯрпНроЯрпАро░рпНроХро│рпН. роЙроЩрпНроХро│рпН рокро┐ро░рпАрооро┐ропроорпН родро┐роЯрпНроЯродрпНродрпИроЪрпН роЪрпЖропро▓рпНрокроЯрпБродрпНрод роХрпАро┤рпЗ роЙро│рпНро│ рокроЯро┐роХро│рпИрокрпН рокро┐ройрпНрокро▒рпНро▒ро╡рпБроорпН!
        </div>

        <div class="plan-box">
            <h2>рокро┐ро░рпАрооро┐ропроорпН родро┐роЯрпНроЯроорпН - тВ╣199 / рооро╛родроорпН</h2>
            <p>рооро╛родродрпНродро┐ро▒рпНроХрпБ **30** родро░ро╡рпБ роЪрооро░рпНрокрпНрокро┐рокрпНрокрпБроХро│рпН, ро╡ро┐ро░ро┐ро╡ро╛рой рокроХрпБрокрпНрокро╛ропрпНро╡рпБ рооро▒рпНро▒рпБроорпН роорпБройрпНройрпБро░ро┐роорпИ роЖродро░ро╡рпИрокрпН рокрпЖро▒рпБроЩрпНроХро│рпН.</p>
            <p style="margin-top: 10px; font-size: 0.9rem;">
                роЙроЩрпНроХро│рпН родро▒рпНрокрпЛродрпИроп рокропройро░рпНрокрпЖропро░рпН: <span id="current-user-display" style="font-weight: 600; color: #333;">...</span>
            </p>
            
            <a href="#" id="whatsapp-link" class="whatsapp-button" onclick="proceedToWhatsApp(event)">
                <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbD0iIzAwMDAwMCIgZD0iTTEyIDBDNi40OCAwIDIgNC40OCAyIDEwYzAgMS43Ny40NiAzLjQxIDEuMjggNC44NmwtMS42NyA0LjgyYy0uMTMuMzguMDMgLjc4LjM5LjkzLjE3LjA2LjM0LjA5LjUxLjA5LjIxIDAgLjQxLS4wOC41Ni0uMjNsNS4wMi0xLjU4Yy44NS4yNyAxLjc1LjQxIDIuNjcuNDFjNS41MiAwIDEwLTQuNDggMTAtMTBTMTcuNTIgMCAxMiAwem00LjYgMTQuMWMtLjIgMC0uNS0uMS0uNy0uMy0uNS0uNC0xLjUtLjgtMS44LS45LS4xLS4xLS4yLS4xLS40LS4xLS4zIDAtLjYgLjQtLjguNi0uMy40LS41Ljc2LS44IDEuMTItLjUgLjQtLjkgLjUtMS4yLjUtLjMgMC0uNi0uMS0uOS0uMy0xLS43LTEuOS0xLjktMi42LTMuMi0uMy0uNi0uNC0xLjItLjQtMS41IDAtLjMtLjEtLjYtLjEtLjkuMS0uMy4zLS41LjUtLjcuMy0uMy42LS42LjgtLjguLjEtLjEuMi0uMi4zLS4zLjItLjIgMC0uNC0uMS0uNi0uMy0uMy0uNi0uNi0uOS0uOC0uMy0uMi0uNi0uMy0uOS0uMy0uMiAwLS41IDAtLjcgLjItLjIgMC0uNS4xLS43LjQtLjIgLjMtLjkgMS41LS45IDEuOCAw .My4zLjYtLjEuOC0uMSAxLjEuMSAxLjUuNCAyLjQuNiAzLjYgMS40IDQuNC41LjIgLjguMyAxLjEuMy4uMiAwIC41LS4xIC43LS4yLjMuMi44LS44IDEuMS0xLjIuMi0uMy4zLS41LjUtLjguMi0uMi40LS4zLjctLjIuMi AwIC40LjIgLjYuMy0uMSAwIC4yLS4yIC4yLS4yTDE2LjYgMTZjLS4yLjItLjUuNC0uNy40eiIvPjwvc3ZnPg==" alt="WhatsApp Icon" class="whatsapp-icon">
                WhatsApp ро╡ро┤ро┐ропро╛роХродрпН родрпКроЯро░ро╡рпБроорпН
            </a>
        </div>

        <div class="manual-step">
            <h3>рокроЯро┐ 1: роХроЯрпНроЯрогродрпНродрпИродрпН родрпКроЯроЩрпНроХро╡рпБроорпН</h3>
            <ol style="padding-left: 20px;">
                <li>роорпЗро▓рпЗ роЙро│рпНро│ **"WhatsApp ро╡ро┤ро┐ропро╛роХродрпН родрпКроЯро░ро╡рпБроорпН"** рокрпКродрпНродро╛ройрпИроХрпН роХро┐ро│ро┐роХрпН роЪрпЖропрпНропро╡рпБроорпН.</li>
                <li>роорпБройрпН роиро┐ро░рокрпНрокрокрпНрокроЯрпНроЯ роЪрпЖропрпНродро┐ропрпИ роОроЩрпНроХро│рпН роЖродро░ро╡рпБ роХрпБро┤рпБро╡ро┐ро▒рпНроХрпБ роЕройрпБрокрпНрокро╡рпБроорпН.</li>
                <li>тВ╣199 роХроЯрпНроЯрогродрпНродро┐ро▒рпНроХро╛рой роОроЩрпНроХро│рпН **UPI/ро╡роЩрпНроХро┐ ро╡ро┐ро╡ро░роЩрпНроХро│рпБроЯройрпН** роиро╛роЩрпНроХро│рпН рокродро┐ро▓ро│ро┐рокрпНрокрпЛроорпН.</li>
            </ol>
        </div>
        
        <div class="reset-section">
            <h3>ЁЯФС рокроЯро┐ 2: роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро▓рпН & роЪрпЖропро▓рпНрокроЯрпБродрпНродрпБродро▓рпН</h3>
            <p>роирпАроЩрпНроХро│рпН рокрогроорпН роЪрпЖро▓рпБродрпНродро┐, роОроЩрпНроХро│рпН роЖродро░ро╡рпБ роХрпБро┤рпБро╡ро┐роЯроорпН роЗро░рпБроирпНродрпБ **родройро┐рокрпНрокроЯрпНроЯ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро▓рпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИрокрпН** рокрпЖро▒рпНро▒ рокро┐ро▒роХрпБ, роЙроЩрпНроХро│рпН рокро┐ро░рпАрооро┐ропроорпН родро┐роЯрпНроЯродрпНродрпИ роЙроЯройроЯро┐ропро╛роХроЪрпН роЪрпЖропро▓рпНрокроЯрпБродрпНрод роЕродрпИ роХрпАро┤рпЗ роЙро│рпНро│ро┐роЯро╡рпБроорпН.</p>
            <form id="reset-form">
                <input type="text" id="confirmation-code" placeholder="роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро▓рпН роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЗроЩрпНроХрпЗ роЙро│рпНро│ро┐роЯро╡рпБроорпН" required>
                <button type="submit" class="reset-button">рокро┐ро░рпАрооро┐ропроорпН родро┐роЯрпНроЯродрпНродрпИроЪрпН роЪрпЖропро▓рпНрокроЯрпБродрпНродро╡рпБроорпН</button>
            </form>
        </div>
    </div>

<script>
const USER_DATA_KEY = "currentUser";
const PREMIUM_STATUS_KEY = "isPremium_"; 
const SUBMISSION_COUNT_PREFIX = "farmSubmissionCount_";
const WHATSAPP_NUMBER = "919392799157"; // IMPORTANT: Replace with your actual WhatsApp business number (e.g., 91XXXXXXXXXX)
const CORRECT_CODE_PREFIX = "FARM-PREMIUM-"; 

document.addEventListener('DOMContentLoaded', function() {
    const currentUser = localStorage.getItem(USER_DATA_KEY);
    
    if (!currentUser) {
        alert('роорпЗроорпНрокроЯрпБродрпНродро▓рпН рокроХрпНроХродрпНродрпИ роЕрогрпБроХ роЙро│рпНроирпБро┤рпИропро╡рпБроорпН.');
        window.location.href = 'login5.html';
        return;
    }
    
    document.getElementById('current-user-display').textContent = currentUser;
    
    document.getElementById('reset-form').addEventListener('submit', function(event) {
        event.preventDefault();
        const enteredCode = document.getElementById('confirmation-code').value.trim().toUpperCase();
        activatePremiumWithCode(enteredCode);
    });
});

// --- Step 1: Initiate WhatsApp chat ---
function proceedToWhatsApp(event) {
    event.preventDefault(); 
    
    const currentUser = localStorage.getItem(USER_DATA_KEY);
    if (!currentUser) return;

    const message = encodeURIComponent(
        `Hello, I would like to upgrade to the Premium Plan (тВ╣199/month) for the Smart Farm Assistant.\n\nMy Username is: ${currentUser}\n\nPlease send me the payment details (UPI/Bank) to complete the transaction and receive the Confirmation Code. Thank you!`
    );
    
    const whatsappURL = `https://wa.me/${WHATSAPP_NUMBER}?text=${message}`;
    
    window.open(whatsappURL, '_blank');
    
    alert(`роТро░рпБ WhatsApp роЕро░роЯрпНроЯрпИ родро┐ро▒роХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│родрпБ. родропро╡рпБроЪрпЖропрпНродрпБ роЪрпЖропрпНродро┐ропрпИ роЕройрпБрокрпНрокро┐, роХроЯрпНроЯрогродрпНродрпБроХрпНроХрпБрокрпН рокро┐ро▒роХрпБ роЙроЩрпНроХро│рпН роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро▓рпН роХрпБро▒ро┐ропрпАроЯрпНроЯро┐ро▒рпНроХро╛роХ роХро╛родрпНродро┐ро░рпБроХрпНроХро╡рпБроорпН.`);
}

// --- Step 2: Activate the Premium status using the received code ---
function activatePremiumWithCode(enteredCode) {
    const currentUser = localStorage.getItem(USER_DATA_KEY);
    
    if (enteredCode.startsWith(CORRECT_CODE_PREFIX) && enteredCode.length > 15) { 
        
        // 1. Set the Premium Status Flag
        localStorage.setItem(PREMIUM_STATUS_KEY + currentUser, 'true');
        
        // 2. Reset the submission counter to 0 (since they have a new limit of 30)
        localStorage.setItem(SUBMISSION_COUNT_PREFIX + currentUser, 0); 
        
        alert(`тЬЕ роЪрпЖропро▓рпНрокроЯрпБродрпНродро▓рпН ро╡рпЖро▒рпНро▒ро┐! роЙроЩрпНроХро│рпН роХрогроХрпНроХрпБ роЗрокрпНрокрпЛродрпБ рокро┐ро░рпАрооро┐ропроорпН. роЙроЩрпНроХро│рпБроХрпНроХрпБ 30 роЪрооро░рпНрокрпНрокро┐рокрпНрокрпБроХро│рпН родро┐ро▒роХрпНроХрокрпНрокроЯрпНроЯрпБро│рпНро│рой!`);
        
        // Redirect back to the profile page to see the changes
        window.location.href = "profile5.html"; 
        
    } else {
        alert("тЭМ родро╡ро▒ро╛рой роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро▓рпН роХрпБро▒ро┐ропрпАроЯрпБ. роирпАроЩрпНроХро│рпН роХроЯрпНроЯрогродрпНродрпИ роорпБроЯро┐родрпНродрпБ, роОроЩрпНроХро│рпН роЖродро░ро╡рпБ роХрпБро┤рпБро╡ро┐ро▓ро┐ро░рпБроирпНродрпБ рокрпЖро▒рокрпНрокроЯрпНроЯ роЪро░ро┐ропро╛рой роХрпБро▒ро┐ропрпАроЯрпНроЯрпИ роЙро│рпНро│ро┐роЯрпНроЯрпБро│рпНро│рпАро░рпНроХро│рпН роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН.");
    }
}
</script>
</body>
</html>